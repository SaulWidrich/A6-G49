
# Install Packages

## Install packages from specific repositories
```
install.packages("iidda.api", repos = c(
  "https://canmod.r-universe.dev",
  "https://cran.r-project.org"
))
```

## Load necessary libraries
```
library(dplyr)
library(tidyverse)
```
# Create Measles Data Set

## Load iidda.api and filter the data for CANMOD CDI data for Canada
```
api_hook <- iidda.api::ops_staging
cdi <- api_hook$filter(
  resource_type = "CANMOD CDI",
  iso_3166 = "CA"
)
```

## Filter and manipulate data to create the measles data set for Ontario
```
measles_wk_on <- cdi %>%
  filter(disease == "measles", iso_3166_2 == "CA-ON", time_scale == "wk") %>%
  mutate(daily_rate = 10^5 * cases_this_period / (days_this_period * population),
         years_since_first_observation = as.numeric((period_start_date - min(period_start_date)) / (365.25)))
```
## View the measles data set
```
view(measles_wk_on)
```

# Create Periodogram

## Create a periodogram using the lomb package
```
periodogram <- lomb::lsp(measles_wk_on$years_since_first_observation, measles_wk_on$daily_rate, type = 'period', plot = TRUE)
```
